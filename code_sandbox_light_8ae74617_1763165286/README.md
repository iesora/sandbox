# タイムワープトランジション - WebGLアニメーション

スクロールでタイムワープの波が発生し、画像が切り替わる美しいWebGLウェブサイト

## 🎨 完成した機能

### ✨ メインエフェクト
- **スクロールトリガー** - スクロールで次の画像に切り替え
- **タイムワープトランジション** - 中央から外側に広がる1つの強力な時空の波
- **放射状ワープエフェクト** - 空間が歪むような視覚効果

### 🎮 インタラクション機能
- **マウスホイール/トラックパッド** - スクロールで画像切り替え
- **スワイプジェスチャー** - モバイルでのスワイプ操作
- **キーボード操作** - 矢印キー（↑↓←→）で操作
- **ナビゲーションボタン** - 画面左右の前へ/次へボタン
- **進捗ドット** - クリックで特定の画像に直接ジャンプ
- **スクロール指示** - 初回表示時のガイドアニメーション

### 🎯 技術的特徴
- **Three.js** - WebGLレンダリングエンジン
- **カスタムGLSLシェーダー** - タイムワープエフェクト
- **放射状UV歪み** - 時空が歪むような視覚効果
- **スムーズイージング** - ease-in-outによる滑らかなアニメーション
- **レスポンシブデザイン** - デスクトップ/タブレット/モバイル対応
- **パフォーマンス最適化** - スクロールクールダウン機構

## 📂 ファイル構成

```
.
├── index.html              # メインHTML
├── css/
│   └── style.css          # スタイルシート
├── js/
│   ├── shaders.js         # GLSLシェーダー定義
│   └── main.js            # Three.js + スクロール検知ロジック
└── README.md              # このファイル
```

## 🚀 使い方

### 基本操作

1. **スクロール操作**
   - マウスホイールを下にスクロール → 次の画像
   - マウスホイールを上にスクロール → 前の画像

2. **キーボード操作**
   - `→` または `↓` キー → 次の画像
   - `←` または `↑` キー → 前の画像

3. **タッチ操作（モバイル）**
   - 上にスワイプ → 次の画像
   - 下にスワイプ → 前の画像

4. **ボタン操作**
   - 画面左右のナビゲーションボタンをクリック

5. **ダイレクトジャンプ**
   - 画面下部の進捗ドットをクリック

### アニメーションの流れ

1. スクロールを検知
2. 即座にタイムワープトランジション開始
3. 画面中央から1つの強力な時空の波が外側に広がる
4. 波が通過した領域が新しい画像に置き換わる
5. 約1.2秒でトランジション完了

## 🎨 カスタマイズ

### 画像の変更

`js/main.js` の `images` 配列を編集：

```javascript
const images = [
    'あなたの画像URL1',
    'あなたの画像URL2',
    'あなたの画像URL3',
    // ...
];

const imageTitles = [
    'タイトル1',
    'タイトル2',
    'タイトル3',
    // ...
];
```

### タイムワープエフェクトの調整

`js/main.js` の初期化部分で調整可能：

```javascript
material = new THREE.ShaderMaterial({
    uniforms: {
        warpIntensity: { value: 0.15 }  // ワープの強度（0.05 - 0.3）
    },
    // ...
});
```

### トランジション速度の変更

`js/main.js` の `startRippleTransition` 関数内：

```javascript
const duration = 1200; // ミリ秒（推奨: 800 - 2000）
```

### スクロールクールダウンの調整

`js/main.js` の冒頭：

```javascript
let scrollCooldown = 1200; // ミリ秒（推奨: 800 - 2000）
```

### 水滴アニメーションの調整

`css/style.css` の `@keyframes dropFall` を編集：

```css
@keyframes dropFall {
    0% {
        opacity: 1;
        transform: translateY(-100px) rotate(-45deg) scale(0.5);
    }
    /* カスタマイズ可能 */
}
```

## 🌊 シェーダーの種類

プロジェクトには3種類のシェーダーが含まれています：

1. **AdvancedRippleShader (タイムワープ)** (デフォルト使用)
   - 中央から外側に広がる1つの強力な波
   - 時空が歪むような放射状のワープエフェクト
   - 波が通過した領域から画像が切り替わる

2. **RippleShader** (波紋版)
   - 水面のような波紋エフェクト
   - 軽量でパフォーマンス重視

3. **DisplacementShader** (代替エフェクト)
   - 変位ベースのトランジション
   - 異なる視覚表現

シェーダーを切り替える場合は、`js/main.js` の `onTexturesLoaded` 関数内で変更してください。

## 📱 レスポンシブ対応

- **デスクトップ**: 全機能利用可能
- **タブレット**: タッチ操作対応、UI調整済み
- **モバイル**: スワイプジェスチャー、最適化されたUI

メディアクエリによる自動調整：
- ナビゲーションボタンサイズ
- テキストサイズ
- 進捗ドット間隔
- 情報パネルレイアウト

## 🎯 技術スタック

- **Three.js v0.160.0** - 3Dグラフィックスライブラリ
- **WebGL 2.0** - GPU加速レンダリング
- **GLSL (OpenGL Shading Language)** - カスタムシェーダー
- **CSS3 Animations** - 水滴アニメーション
- **Vanilla JavaScript** - フレームワーク不要

## 🌐 ブラウザ対応

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+
- ⚠️ IE非対応（WebGL 2.0未対応のため）

## ⚡ パフォーマンス

### 最適化機能
- スクロールクールダウン機構（過剰なイベント防止）
- デバウンシング（スクロールイベント）
- トランジション中の操作ブロック
- PixelRatio制限（高DPI対応）
- テクスチャフィルタリング最適化

### 推奨環境
- GPU: WebGL 2.0対応
- RAM: 4GB以上
- 画面解像度: 1920x1080以下推奨

## 🔧 今後の拡張可能性

- [ ] 動画トランジション対応
- [ ] 複数の波紋エフェクト選択機能
- [ ] カスタム水滴形状（涙型、雨粒型など）
- [ ] 音響エフェクト（着水音、波音）
- [ ] パララックススクロール効果
- [ ] 画像プリロード機能強化
- [ ] タッチポイント対応の波紋（クリック位置から波紋）
- [ ] 3Dオブジェクトへの応用

## 🌐 デプロイ

**Publishタブ** からワンクリックでデプロイできます！

デプロイ後は以下のURLでアクセス可能になります：
- 本番環境: `https://your-domain.com`

## 📖 参考

このプロジェクトは以下のWebGLトランジション技術にインスパイアされています：
- https://tympanus.net/Development/webGLImageTransitions/

## 📄 ライセンス

このプロジェクトは自由に使用・改変・配布可能です。

---

**作成日**: 2025-11-14

水の物理演算と波紋エフェクトの美しさをお楽しみください！🌊✨
